# Starter pipeline
# Start with a minimal pipeline that you can customize to build and deploy your code.
# Add steps that build, run tests, deploy, and more:
# https://aka.ms/yaml

trigger:
- master

pool:
  vmImage: 'ubuntu-latest'

jobs:
#  - job: Build_API
#    steps:
#      - task: DotNetCoreCLI@2
#        inputs:
#          command: 'build'
#          workingDirectory: 'backend/api'


  - job: Build_Frontend
    steps:
      - task: Npm@1
        inputs:
          command: 'install'
          workingDir: 'frontend'
      - task: Npm@1
        inputs:
          command: 'custom'
          workingDir: 'frontend'
          customCommand: 'run-script build'

#  - job: Test_API
#    steps:
#      - task: DotNetCoreCLI@2
#        name:
#        inputs:
#          publishTestResults: true
#          command: 'test'
#          projects: 'backend/Tests/Tests.csproj'

#  - job: Test_Frontend
#    steps:
#      - task: Npm@1
#        name: Install
#        inputs:
#          command: 'install'
#          workingDir: 'frontend'
#      - task: Npm@1
#        name: Run_all_tests
#        inputs:
#          command: 'custom'
#          workingDir: 'frontend'
#          customCommand: 'test'
